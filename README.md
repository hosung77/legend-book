<img src="https://capsule-render.vercel.app/api?type=waving&height=300&color=gradient&text=Legend%20Book&desc=도서%20대여%20및%20관리%20프로그램&fontAlign=50&fontAlignY=40&descAlignY=55">

## 📅 개발 기간

2025.05.16 ~ 2025.05.26

<br>

## 📚 팀원 및 역할 분담

| 팀원  | 기능          |
|-----|-------------|
| 진혜정 | 회원, 인증/ 인가  |
| 김태정 | 도서(관리자)     |
| 이윤승 | 도서(사용자)     |
| 이호성 | 인기 검색어, 좋아요 |

<br><br>

## 📌 개발 환경 및 기술 스택

<!-- Framework -->
<img src="https://img.shields.io/badge/Framework-4B5563?style=for-the-badge"><img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"><img src="https://img.shields.io/badge/3.4.4-9CA3AF?style=for-the-badge">

<!-- Language -->
<img src="https://img.shields.io/badge/Language-065F46?style=for-the-badge"><img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=openjdk&logoColor=white"><img src="https://img.shields.io/badge/17-9CA3AF?style=for-the-badge">

<!-- ORM -->
<img src="https://img.shields.io/badge/ORM-6B21A8?style=for-the-badge"><img src="https://img.shields.io/badge/Hibernate-59666C?style=for-the-badge&logo=hibernate&logoColor=white"><img src="https://img.shields.io/badge/5.x-9CA3AF?style=for-the-badge">
<img src="https://img.shields.io/badge/ORM-9ACD32?style=for-the-badge"><img src="https://img.shields.io/badge/Spring_Data_JPA-6DB33F?style=for-the-badge&logo=spring&logoColor=white">

<!-- Auto Audit -->
<img src="https://img.shields.io/badge/Auto_Audit-9ACD32?style=for-the-badge"><img src="https://img.shields.io/badge/JPA_Auditing-6DB33F?style=for-the-badge&logo=spring&logoColor=white">

<!-- Database -->
<img src="https://img.shields.io/badge/Database-1E3A8A?style=for-the-badge"><img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white"><img src="https://img.shields.io/badge/9.0.x-9CA3AF?style=for-the-badge">

<!-- Infra -->
<img src="https://img.shields.io/badge/Infra-B91C1C?style=for-the-badge"><img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white"><img src="https://img.shields.io/badge/3.0.504-9CA3AF?style=for-the-badge">
<img src="https://img.shields.io/badge/Cloud-232F3E?style=for-the-badge"><img src="https://img.shields.io/badge/Amazon_S3-FF9900?style=for-the-badge&logo=amazons3&logoColor=white">

<!-- Security -->
<img src="https://img.shields.io/badge/Security-9ACD32?style=for-the-badge"><img src="https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white">

<!-- Code Reduction -->
<img src="https://img.shields.io/badge/Code_Reduction-FF7F7F?style=for-the-badge"><img src="https://img.shields.io/badge/Lombok-DC382D?style=for-the-badge&logo=lombok&logoColor=white">

<!-- Validation -->
<img src="https://img.shields.io/badge/Validation-7BAAF7?style=for-the-badge"><img src="https://img.shields.io/badge/Validation_Tool-0052CC?style=for-the-badge&logo=checkmarx&logoColor=white">

<!-- Test Tool -->
<img src="https://img.shields.io/badge/TestTool-F59E0B?style=for-the-badge"><img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white">

<!-- ERD Tool -->
<img src="https://img.shields.io/badge/ERDTool-0369A1?style=for-the-badge"><img src="https://img.shields.io/badge/ErdCloud-0096C7?style=for-the-badge">

<!-- Communication -->
<img src="https://img.shields.io/badge/Communication-3B0764?style=for-the-badge"><img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white">

<!-- Docs -->
<img src="https://img.shields.io/badge/Docs-111827?style=for-the-badge"><img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white">

<!-- VCS -->
<img src="https://img.shields.io/badge/VCS-1F2937?style=for-the-badge"><img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/VCS-1F2937?style=for-the-badge"><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white">

<!-- IDE -->
<img src="https://img.shields.io/badge/IDE-7C3AED?style=for-the-badge"><img src="https://img.shields.io/badge/IntelliJIDEA-000000?style=for-the-badge&logo=intellijidea&logoColor=white"><img src="https://img.shields.io/badge/2024.1-9CA3AF?style=for-the-badge">

<!-- CI/CD -->
<img src="https://img.shields.io/badge/CI/CD-0db7ed?style=for-the-badge"><img src="https://img.shields.io/badge/docker-257bd6?style=for-the-badge&logo=docker&logoColor=white"><img src="https://img.shields.io/badge/28.1.1-9CA3AF?style=for-the-badge">

<br><br>

## 📌 주요 기능

1. JWT, Spring Security를 이용한 회원 인증/인가 기능.
2. 도서 관리자의 도서 생성, 조회, 수정, 삭제 기능.
3. 이용자의 도서 검색, 도서 대여, 도서 좋아요 기능.
4. 인기 검색어 기능.

<br><br>

## 와이어 프레임

<img src="https://github.com/user-attachments/assets/93b555e6-5dce-40ff-9f58-efc3086ab595" width="800px" height="800px">

## 📌 API 명세서

[📚 API 명세서](https://www.notion.so/teamsparta/API-1fc2dc3ef51480369be2de083dbb66f8)

<br><br>

## 📌 ERD

<img src="https://github.com/user-attachments/assets/bb6eb718-5567-4af3-9e51-17a7efabf881" width="800px" height="400px">


<br><br>

## 📌 Git Commit Message Convention

* Feat : 새로운 기능 추가
* Fix : 버그 수정
* Style : 코드 포맷팅, 코드 오타, 함수명 수정 등 스타일 수정
* Refactor : 코드 리팩토링(동일 기능 내 코드 개선)
* Comment : 주석 수정 및 삭제
* Docs : 문서와 관련된 모든 것
* Chore : 빌드 설정 변경 및 기타 환경설정

## 📌 Cache를 적용한 사례와 그 이유

[김태정 - 📚등록된 모든 도서 조회 캐싱처리](/docs/taejeong.md) <br>

[진혜정 - ❤️좋아요한 책 목록 조회 캐싱처리](/docs/hyejeong.md) <br>

[이윤승 - 📚🔍도서 키워드 검색 캐싱처리](/docs/yoonseung.md) <br>

[이호성 - 🔍인기 검색어 캐싱처리](/docs/hosung.md) <br>

## 📌 트러블슈팅

<details>
<summary> <a href="https://www.notion.so/teamsparta/AWS-EC2-1fb2dc3ef5148060b59bcb4e221a8922?pvs=4"> EC2 인바운드 규칙 미설정으로 인한 접속 불가 이슈 </a> </summary>
<div markdown="1">
<br>

```
## 문제 상황

- AWS EC2 인스턴스를 실행한 후, 프론트엔드나 백엔드 서버에 접속하려 했으나 브라우저/클라이언트에서 연결되지 않음. 
- 서버는 정상적으로 실행 중이었고, 로컬에서는 잘 작동함.


## 원인 분석
- EC2 인스턴스 보안 그룹 인바운드 규칙에 8080 포트를 허용하지 않았음.
   → 외부에서 해당 포트로 접근 불가.


## 해결 방법
- EC2 인스턴스의 보안 그룹 - 인바운드 규칙에 다음 설정 추가
  - 포트 범위 : 8080
  - 프로토콜 : TCP
  - 소스 : 0.0.0.0/0


💡 개발 초기에는 `0.0.0.0/0`으로 설정하되, 배포 시에는 제한된 IP로 수정할 것

💡 EC2 사용 시 보안 그룹 인바운드 설정은 필수이며, 사용하는 포트 번호를 정확히 열어줘야 외부에서 접근 가능함

```

</div>
</details>

<details>
<summary> <a href="https://www.notion.so/teamsparta/docker-compose-yaml-1fb2dc3ef5148026aa64f61d1d1faa98?pvs=4"> docker-compose.yaml SECRET_KEY 이슈 </a> </summary>
<div markdown="1">
<br>

```
## 문제 상황

- AWS EC2 서버에 Spring Boot 애플리케이션을 Docker 환경에서 배포하고 실행 시 SECRET_KEY를 가져오지 못해 실행 오류가 발생.


## 원인 분석
- .env 파일에서 SECRET_KEY를 읽도록 설정해두었음.
- docker-compose.yaml 파일 environment 항목에 SECRET_KEY 가 지정되지 않았음.
   →  애플리케이션이 SECRET_KEY 를 읽지 못하는 상황 발생.


## 해결 방법
- docker-compose.yaml 파일의 environment에 SECRET_KEY 지정.

```

</div>
</details>

</details>

<details>
<summary> <a href="https://www.notion.so/teamsparta/DB-test-DB-1fb2dc3ef514802c8b14d51b9912da46?pvs=4"> Test 빌드 에러 </a> </summary>
<div markdown="1">
<br>

```
## 문제 상황
- Test 빌드 시, 기존 데이터베이스와 연결이 되지 않는 이슈 발생.


## 원인 분석
- 기존 application.yaml 설정은 update인데, 테스트 코드 데이터베이스는 create-drop 형식으로 만들어줘야할 것으로 추측.
   → 테스트 코드는 테이블이 없는 상태이기 때문에.
- application-test.yml을 추가로 생성해주기.


## 해결 방법
- application-test.yml을 추가로 생성 후 빌드.

💡 Test 환경변수에 application.yaml 에서 사용하던 환경변수들을 입력해줘도 되는데 일일히 설정해줘야 하는 번거로움이 있음.
💡 프로젝트가 크거나, 팀 개발 등인 경우 application-test.yml처럼 분리해놓는 것이 유지보수 및 안전성 측면에서 유리함.

```

</div>
</details>

<details>
<summary> <a href="https://www.notion.so/teamsparta/1fb2dc3ef51480598c7af663f0570611?pvs=4"> 포트 에러 </a> </summary>
<div markdown="1">
<br>

```
## 문제 상황

- 3306 포트가 이미 실행 중이라는 에러가 발생함.


## 원인 분석
- 각자의 개발 환경에서 MySQL이 설치되어 백그라운드에서 실행 중.
- Docker는 동일한 포트를 사용하는 컨테이너를 동시에 실행하려 할 경우, 포트 충돌 오류가 발생.


## 해결 방법
- 팀원별로 각각 포트번호를 다르게 설정.

```

</div>
</details>









